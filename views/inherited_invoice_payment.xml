<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="view_account_payment_invoice_form_extends_add_manual_currency_exchange_rate" model="ir.ui.view">
			<field name="name">view.account.payment.invoice.form.extends.add.manual.currency.exchange.rate</field>
			<field name="model">account.payment</field>
			<field name="inherit_id" ref="account.view_account_payment_form" />
			<field name="arch" type="xml">
				<field name="journal_id" position="after">
					<field name="journal_current_balance" widget="monetary" options="{'currency_field': 'currency_id'}"/>
					<field name="can_confirm_payment" invisible="1"/>
					<field name="payment_button_state" invisible="1"/>
					<field name="active_manual_currency_rate" invisible="1"/>
					<field name="apply_manual_currency_exchange" invisible="active_manual_currency_rate == False" />
					<field name="manual_currency_exchange_rate" invisible="apply_manual_currency_exchange == False or active_manual_currency_rate == False" required="apply_manual_currency_exchange == True" />
				</field>
				<field name="amount" position="after">
					<div class="alert alert-warning" invisible="can_confirm_payment">
						<strong>Advertencia:</strong> El monto del pago excede el saldo disponible en el diario. 
						No se puede confirmar este pago.
					</div>
				</field>
			</field>
		</record>
	</data>
</odoo>
